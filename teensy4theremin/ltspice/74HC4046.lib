* Model 74HC4046 Phase-Locked Loop with VCO
* By Valentyn Volodin
* Created 25.11.2015
*  
.subckt 74HC4046TI PCP PC1 COMP VCOout INHIBT C1A C1B 0 VCO DEM R1 R2 PC2 SIG PC3 VCC
A1 VCC 0 isig 0 N008 0 N003 0 DFLOP Vhigh=5 Trise=10n
A2 VCC 0 icomp 0 N008 0 N009 0 DFLOP Vhigh=5 Trise=10n
A4 N003 0 isig 0 0 0 N004 0 DFLOP Vhigh=5 Trise=10n
A5 N009 0 icomp 0 0 0 N013 0 DFLOP Vhigh=5 Trise=10n
A6 N004 N003 0 0 0 0 N005 0 OR Vhigh=5 Trise=10n
A7 N009 0 0 0 N013 0 N010 0 OR Vhigh=5 Trise=10n
A3 N003 0 0 0 N009 0 N008 0 AND Vhigh=5 Trise=10n
A8 N006 0 0 0 0 0 N007 0 BUF Vhigh=5 Trise=10n
A9 N011 0 0 0 0 0 N012 0 BUF Vhigh=5 Trise=10n
R1 N005 N006 2k
R2 N010 N011 2k
C1 N006 0 10p
C2 N011 0 10p
S1 PC2 VCC N007 0 os
S2 0 PC2 N012 0 os
A10 isig 0 0 0 icomp N002 N001 0 XOR Vhigh=5 Trise=10n
S3 PC1 VCC N001 0 os
S4 0 PC1 N002 0 os
S5 PCP VCC N014 0 os
S6 0 PCP N016 0 os
A11 N007 0 0 0 N012 N016 N014 0 OR Vhigh=5 Trise=10n
D1 0 PC1 od
D2 PC1 VCC od
D3 PC2 VCC od
D4 0 PC2 od
D5 PCP VCC od
D6 0 PCP od
A12 N019 N023 0 0 0 N021 N022 0 SRFLOP Vhigh=5 Trise=10n
A13 isig 0 N020 0 0 0 N019 0 AND Vhigh=5 Trise=10n
A14 0 0 N024 0 icomp 0 N023 0 AND Vhigh=5 Trise=10n
S7 PC3 VCC N021 0 os
S8 0 PC3 N022 0 os
D7 0 PC3 od
D8 PC3 VCC od
A15 isig 0 0 0 0 N020 0 0 BUF Vhigh=5 Trise=10n Td=30n
A16 icomp 0 0 0 0 N024 0 0 BUF Vhigh=5 Trise=10n Td=30n
A17 SIG 0 0 0 0 0 isig 0 BUF Vhigh=5 Trise=10n
A18 COMP 0 0 0 0 0 icomp 0 BUF Vhigh=5 Trise=10n
A19 N028 N031 0 0 0 N032 N027 0 SRFLOP Vhigh=5 Trise=10n
V5 N015 R2 0.7
S9 0 C1A 1 0 MS
S10 0 C1B 2 0 MS
E1 N018 0 VCO 0 1
V6 N017 R1 0
A20 C1A N030 0 0 0 0 N028 0 SCHMITT Vhigh=5 Trise=10n Vt=0.6 Vh=1m
A21 C1B N030 0 0 0 0 N031 0 SCHMITT Vhigh=5 Trise=10n Vt=0.6 Vh=1m
E2 N030 0 VCC 0 0.1
D9 0 C1A ms
D10 0 C1B ms
B2 0 N025 I=(0.3981*V(VCC)+4.6147)*I(V5)**(0.59m*V(VCC)+0.9849)
B1 0 N026 I=5.5409*I(V6)**0.988
V7 N025 0 0
V8 N026 0 0
F1 0 C1A V7 1
F2 0 C1A V8 1
F3 0 C1B V7 1
F4 0 C1B V8 1
A22 2 0 0 0 0 VCOout 0 0 BUF Vhigh=5 Trise=10n
A23 0 0 N027 N029 0 2 0 0 AND Vhigh=5 Trise=10n
A24 0 0 N032 N029 0 1 0 0 AND Vhigh=5 Trise=10n
A25 INHIBT 0 0 0 0 N029 0 0 BUF Vhigh=5 Trise=10n
R6 INHIBT 0 10meg
R3 VCO 0 10meg
R4 SIG 0 10meg
R5 COMP 0 10meg
R7 N018 DEM 100
R8 N015 VCC 100
R9 N017 N018 100
.model os SW(Ron=30 Roff=10Meg Vt=2.5 Vh=-0.5)
.model od D(Ron=10 Roff=10meg Vfwd=0.6)
.model MS SW(Ron=10 Roff=1g Vt=2.5 Vh=0 Vser=0.15)
.model ms D(Ron=1 Roff=1g Vfwd=0.7)
.ends 74HC4046TI
*
*
.subckt 74HC4046ON PCP PC1 COMP VCOout INHIBT C1A C1B 0 VCO DEM R1 R2 PC2 SIG PC3 VCC
A1 VCC 0 isig 0 N008 0 N003 0 DFLOP Vhigh=5 Trise=10n
A2 VCC 0 icomp 0 N008 0 N009 0 DFLOP Vhigh=5 Trise=10n
A4 N003 0 isig 0 0 0 N004 0 DFLOP Vhigh=5 Trise=10n
A5 N009 0 icomp 0 0 0 N013 0 DFLOP Vhigh=5 Trise=10n
A6 N004 N003 0 0 0 0 N005 0 OR Vhigh=5 Trise=10n
A7 N009 0 0 0 N013 0 N010 0 OR Vhigh=5 Trise=10n
A3 N003 0 0 0 N009 0 N008 0 AND Vhigh=5 Trise=10n
A8 N006 0 0 0 0 0 N007 0 BUF Vhigh=5 Trise=10n
A9 N011 0 0 0 0 0 N012 0 BUF Vhigh=5 Trise=10n
R1 N005 N006 2k
R2 N010 N011 2k
C1 N006 0 10p
C2 N011 0 10p
S1 PC2 VCC N007 0 os
S2 0 PC2 N012 0 os
A10 isig 0 0 0 icomp N002 N001 0 XOR Vhigh=5 Trise=10n
S3 PC1 VCC N001 0 os
S4 0 PC1 N002 0 os
S5 PCP VCC N014 0 os
S6 0 PCP N016 0 os
A11 N007 0 0 0 N012 N016 N014 0 OR Vhigh=5 Trise=10n
D1 0 PC1 od
D2 PC1 VCC od
D3 PC2 VCC od
D4 0 PC2 od
D5 PCP VCC od
D6 0 PCP od
A12 N019 N023 0 0 0 N021 N022 0 SRFLOP Vhigh=5 Trise=10n
A13 isig 0 N020 0 0 0 N019 0 AND Vhigh=5 Trise=10n
A14 0 0 N024 0 icomp 0 N023 0 AND Vhigh=5 Trise=10n
S7 PC3 VCC N021 0 os
S8 0 PC3 N022 0 os
D7 0 PC3 od
D8 PC3 VCC od
A15 isig 0 0 0 0 N020 0 0 BUF Vhigh=5 Trise=10n Td=30n
A16 icomp 0 0 0 0 N024 0 0 BUF Vhigh=5 Trise=10n Td=30n
A17 SIG 0 0 0 0 0 isig 0 BUF Vhigh=5 Trise=10n
A18 COMP 0 0 0 0 0 icomp 0 BUF Vhigh=5 Trise=10n
A19 N027 N030 0 0 0 N031 N026 0 SRFLOP Vhigh=5 Trise=10n
V5 N015 R2 0.7
S9 0 C1A 1 0 MS
S10 0 C1B 2 0 MS
E1 N018 0 VCO 0 1
V6 N017 R1 0
A20 C1A N029 0 0 0 0 N027 0 SCHMITT Vhigh=5 Trise=10n Vt=0.3 Vh=1m
A21 C1B N029 0 0 0 0 N030 0 SCHMITT Vhigh=5 Trise=10n Vt=0.3 Vh=1m
E2 N029 0 VCC 0 0.3
D9 0 C1A ms
D10 0 C1B ms
B1 0 N025 I=I(V6)*(36-8800*I(V6))
V8 N025 0 0
F1 0 C1A V5 4.6
F2 0 C1A V8 1
F3 0 C1B V5 4.6
F4 0 C1B V8 1
A22 2 0 0 0 0 VCOout 0 0 BUF Vhigh=5 Trise=10n
A23 0 0 N026 N028 0 2 0 0 AND Vhigh=5 Trise=10n
A24 0 0 N031 N028 0 1 0 0 AND Vhigh=5 Trise=10n
A25 INHIBT 0 0 0 0 N028 0 0 BUF Vhigh=5 Trise=10n
R6 INHIBT 0 10meg
R3 VCO 0 10meg
R4 SIG 0 10meg
R5 COMP 0 10meg
R7 N018 DEM 100
R8 N015 VCC 100
R9 N017 N018 100
.model os SW(Ron=30 Roff=10Meg Vt=2.5 Vh=-0.5)
.model od D(Ron=10 Roff=10meg Vfwd=0.6)
.model MS SW(Ron=10 Roff=1g Vt=2.5 Vh=0 Vser=0.15)
.model ms D(Ron=1 Roff=1g Vfwd=0.7)
.ends 74HC4046ON