#include "synth_utils.h"

// Sine interpolation table
static const float SIN_TABLE_1024[1025] {
    0.000000e+00f, 6.135885e-03f, 1.227154e-02f, 1.840673e-02f, 2.454123e-02f, 3.067480e-02f, 4.293826e-02f, 4.293826e-02f, // 0
    4.906767e-02f, 5.519524e-02f, 6.132074e-02f, 6.744392e-02f, 7.356456e-02f, 7.968244e-02f, 9.190896e-02f, 9.190896e-02f, // 8
    9.801714e-02f, 1.041216e-01f, 1.102222e-01f, 1.163186e-01f, 1.224107e-01f, 1.284981e-01f, 1.406582e-01f, 1.406582e-01f, // 16
    1.467305e-01f, 1.527972e-01f, 1.588581e-01f, 1.649131e-01f, 1.709619e-01f, 1.770042e-01f, 1.890687e-01f, 1.890687e-01f, // 24
    1.950903e-01f, 2.011046e-01f, 2.071114e-01f, 2.131103e-01f, 2.191012e-01f, 2.250839e-01f, 2.370236e-01f, 2.370236e-01f, // 32
    2.429802e-01f, 2.489276e-01f, 2.548657e-01f, 2.607941e-01f, 2.667128e-01f, 2.726214e-01f, 2.844075e-01f, 2.844075e-01f, // 40
    2.902847e-01f, 2.961509e-01f, 3.020059e-01f, 3.078496e-01f, 3.136817e-01f, 3.195020e-01f, 3.311063e-01f, 3.311063e-01f, // 48
    3.368899e-01f, 3.426607e-01f, 3.484187e-01f, 3.541635e-01f, 3.598950e-01f, 3.656130e-01f, 3.770074e-01f, 3.770074e-01f, // 56
    3.826834e-01f, 3.883450e-01f, 3.939920e-01f, 3.996242e-01f, 4.052413e-01f, 4.108432e-01f, 4.220003e-01f, 4.220003e-01f, // 64
    4.275551e-01f, 4.330938e-01f, 4.386162e-01f, 4.441221e-01f, 4.496113e-01f, 4.550836e-01f, 4.659765e-01f, 4.659765e-01f, // 72
    4.713967e-01f, 4.767992e-01f, 4.821838e-01f, 4.875502e-01f, 4.928982e-01f, 4.982277e-01f, 5.088301e-01f, 5.088301e-01f, // 80
    5.141027e-01f, 5.193560e-01f, 5.245897e-01f, 5.298036e-01f, 5.349976e-01f, 5.401715e-01f, 5.504580e-01f, 5.504580e-01f, // 88
    5.555702e-01f, 5.606616e-01f, 5.657318e-01f, 5.707807e-01f, 5.758082e-01f, 5.808140e-01f, 5.907597e-01f, 5.907597e-01f, // 96
    5.956993e-01f, 6.006165e-01f, 6.055110e-01f, 6.103828e-01f, 6.152316e-01f, 6.200572e-01f, 6.296382e-01f, 6.296382e-01f, // 104
    6.343933e-01f, 6.391244e-01f, 6.438315e-01f, 6.485144e-01f, 6.531728e-01f, 6.578067e-01f, 6.669999e-01f, 6.669999e-01f, // 112
    6.715590e-01f, 6.760927e-01f, 6.806010e-01f, 6.850837e-01f, 6.895405e-01f, 6.939715e-01f, 7.027547e-01f, 7.027547e-01f, // 120
    7.071068e-01f, 7.114322e-01f, 7.157308e-01f, 7.200025e-01f, 7.242471e-01f, 7.284644e-01f, 7.368166e-01f, 7.368166e-01f, // 128
    7.409511e-01f, 7.450578e-01f, 7.491364e-01f, 7.531868e-01f, 7.572088e-01f, 7.612024e-01f, 7.691033e-01f, 7.691033e-01f, // 136
    7.730105e-01f, 7.768885e-01f, 7.807372e-01f, 7.845566e-01f, 7.883464e-01f, 7.921066e-01f, 7.995373e-01f, 7.995373e-01f, // 144
    8.032075e-01f, 8.068476e-01f, 8.104572e-01f, 8.140363e-01f, 8.175848e-01f, 8.211025e-01f, 8.280450e-01f, 8.280450e-01f, // 152
    8.314696e-01f, 8.348629e-01f, 8.382247e-01f, 8.415550e-01f, 8.448536e-01f, 8.481203e-01f, 8.545580e-01f, 8.545580e-01f, // 160
    8.577286e-01f, 8.608669e-01f, 8.639729e-01f, 8.670462e-01f, 8.700870e-01f, 8.730950e-01f, 8.790122e-01f, 8.790122e-01f, // 168
    8.819213e-01f, 8.847971e-01f, 8.876396e-01f, 8.904487e-01f, 8.932243e-01f, 8.959662e-01f, 9.013488e-01f, 9.013488e-01f, // 176
    9.039893e-01f, 9.065957e-01f, 9.091680e-01f, 9.117060e-01f, 9.142098e-01f, 9.166791e-01f, 9.215140e-01f, 9.215140e-01f, // 184
    9.238795e-01f, 9.262102e-01f, 9.285061e-01f, 9.307670e-01f, 9.329928e-01f, 9.351835e-01f, 9.394592e-01f, 9.394592e-01f, // 192
    9.415441e-01f, 9.435935e-01f, 9.456073e-01f, 9.475856e-01f, 9.495282e-01f, 9.514350e-01f, 9.551412e-01f, 9.551412e-01f, // 200
    9.569403e-01f, 9.587035e-01f, 9.604305e-01f, 9.621214e-01f, 9.637761e-01f, 9.653944e-01f, 9.685221e-01f, 9.685221e-01f, // 208
    9.700313e-01f, 9.715039e-01f, 9.729400e-01f, 9.743394e-01f, 9.757021e-01f, 9.770281e-01f, 9.795698e-01f, 9.795698e-01f, // 216
    9.807853e-01f, 9.819639e-01f, 9.831055e-01f, 9.842101e-01f, 9.852776e-01f, 9.863081e-01f, 9.882576e-01f, 9.882576e-01f, // 224
    9.891765e-01f, 9.900582e-01f, 9.909026e-01f, 9.917098e-01f, 9.924795e-01f, 9.932119e-01f, 9.945646e-01f, 9.945646e-01f, // 232
    9.951847e-01f, 9.957674e-01f, 9.963126e-01f, 9.968203e-01f, 9.972905e-01f, 9.977231e-01f, 9.984756e-01f, 9.984756e-01f, // 240
    9.987955e-01f, 9.990777e-01f, 9.993224e-01f, 9.995294e-01f, 9.996988e-01f, 9.998306e-01f, 9.999812e-01f, 9.999812e-01f, // 248
    1.000000e+00f, 9.999812e-01f, 9.999247e-01f, 9.998306e-01f, 9.996988e-01f, 9.995294e-01f, 9.990777e-01f, 9.990777e-01f, // 256
    9.987955e-01f, 9.984756e-01f, 9.981181e-01f, 9.977231e-01f, 9.972905e-01f, 9.968203e-01f, 9.957674e-01f, 9.957674e-01f, // 264
    9.951847e-01f, 9.945646e-01f, 9.939070e-01f, 9.932119e-01f, 9.924795e-01f, 9.917098e-01f, 9.900582e-01f, 9.900582e-01f, // 272
    9.891765e-01f, 9.882576e-01f, 9.873014e-01f, 9.863081e-01f, 9.852776e-01f, 9.842101e-01f, 9.819639e-01f, 9.819639e-01f, // 280
    9.807853e-01f, 9.795698e-01f, 9.783174e-01f, 9.770281e-01f, 9.757021e-01f, 9.743394e-01f, 9.715039e-01f, 9.715039e-01f, // 288
    9.700313e-01f, 9.685221e-01f, 9.669765e-01f, 9.653944e-01f, 9.637761e-01f, 9.621214e-01f, 9.587035e-01f, 9.587035e-01f, // 296
    9.569403e-01f, 9.551412e-01f, 9.533060e-01f, 9.514350e-01f, 9.495282e-01f, 9.475856e-01f, 9.435935e-01f, 9.435935e-01f, // 304
    9.415441e-01f, 9.394592e-01f, 9.373390e-01f, 9.351835e-01f, 9.329928e-01f, 9.307670e-01f, 9.262102e-01f, 9.262102e-01f, // 312
    9.238795e-01f, 9.215140e-01f, 9.191139e-01f, 9.166791e-01f, 9.142098e-01f, 9.117060e-01f, 9.065957e-01f, 9.065957e-01f, // 320
    9.039893e-01f, 9.013488e-01f, 8.986745e-01f, 8.959662e-01f, 8.932243e-01f, 8.904487e-01f, 8.847971e-01f, 8.847971e-01f, // 328
    8.819213e-01f, 8.790122e-01f, 8.760701e-01f, 8.730950e-01f, 8.700870e-01f, 8.670462e-01f, 8.608669e-01f, 8.608669e-01f, // 336
    8.577286e-01f, 8.545580e-01f, 8.513552e-01f, 8.481203e-01f, 8.448536e-01f, 8.415550e-01f, 8.348629e-01f, 8.348629e-01f, // 344
    8.314696e-01f, 8.280450e-01f, 8.245893e-01f, 8.211025e-01f, 8.175848e-01f, 8.140363e-01f, 8.068476e-01f, 8.068476e-01f, // 352
    8.032075e-01f, 7.995373e-01f, 7.958369e-01f, 7.921066e-01f, 7.883464e-01f, 7.845566e-01f, 7.768885e-01f, 7.768885e-01f, // 360
    7.730105e-01f, 7.691033e-01f, 7.651673e-01f, 7.612024e-01f, 7.572088e-01f, 7.531868e-01f, 7.450578e-01f, 7.450578e-01f, // 368
    7.409511e-01f, 7.368166e-01f, 7.326543e-01f, 7.284644e-01f, 7.242471e-01f, 7.200025e-01f, 7.114322e-01f, 7.114322e-01f, // 376
    7.071068e-01f, 7.027547e-01f, 6.983762e-01f, 6.939715e-01f, 6.895405e-01f, 6.850837e-01f, 6.760927e-01f, 6.760927e-01f, // 384
    6.715590e-01f, 6.669999e-01f, 6.624158e-01f, 6.578067e-01f, 6.531728e-01f, 6.485144e-01f, 6.391244e-01f, 6.391244e-01f, // 392
    6.343933e-01f, 6.296382e-01f, 6.248595e-01f, 6.200572e-01f, 6.152316e-01f, 6.103828e-01f, 6.006165e-01f, 6.006165e-01f, // 400
    5.956993e-01f, 5.907597e-01f, 5.857979e-01f, 5.808140e-01f, 5.758082e-01f, 5.707807e-01f, 5.606616e-01f, 5.606616e-01f, // 408
    5.555702e-01f, 5.504580e-01f, 5.453250e-01f, 5.401715e-01f, 5.349976e-01f, 5.298036e-01f, 5.193560e-01f, 5.193560e-01f, // 416
    5.141027e-01f, 5.088301e-01f, 5.035384e-01f, 4.982277e-01f, 4.928982e-01f, 4.875502e-01f, 4.767992e-01f, 4.767992e-01f, // 424
    4.713967e-01f, 4.659765e-01f, 4.605387e-01f, 4.550836e-01f, 4.496113e-01f, 4.441221e-01f, 4.330938e-01f, 4.330938e-01f, // 432
    4.275551e-01f, 4.220003e-01f, 4.164296e-01f, 4.108432e-01f, 4.052413e-01f, 3.996242e-01f, 3.883450e-01f, 3.883450e-01f, // 440
    3.826834e-01f, 3.770074e-01f, 3.713172e-01f, 3.656130e-01f, 3.598950e-01f, 3.541635e-01f, 3.426607e-01f, 3.426607e-01f, // 448
    3.368899e-01f, 3.311063e-01f, 3.253103e-01f, 3.195020e-01f, 3.136817e-01f, 3.078496e-01f, 2.961509e-01f, 2.961509e-01f, // 456
    2.902847e-01f, 2.844075e-01f, 2.785197e-01f, 2.726214e-01f, 2.667128e-01f, 2.607941e-01f, 2.489276e-01f, 2.489276e-01f, // 464
    2.429802e-01f, 2.370236e-01f, 2.310581e-01f, 2.250839e-01f, 2.191012e-01f, 2.131103e-01f, 2.011046e-01f, 2.011046e-01f, // 472
    1.950903e-01f, 1.890687e-01f, 1.830399e-01f, 1.770042e-01f, 1.709619e-01f, 1.649131e-01f, 1.527972e-01f, 1.527972e-01f, // 480
    1.467305e-01f, 1.406582e-01f, 1.345807e-01f, 1.284981e-01f, 1.224107e-01f, 1.163186e-01f, 1.041216e-01f, 1.041216e-01f, // 488
    9.801714e-02f, 9.190896e-02f, 8.579731e-02f, 7.968244e-02f, 7.356456e-02f, 6.744392e-02f, 5.519524e-02f, 5.519524e-02f, // 496
    4.906767e-02f, 4.293826e-02f, 3.680722e-02f, 3.067480e-02f, 2.454123e-02f, 1.840673e-02f, 6.135885e-03f, 6.135885e-03f, // 504
    -2.068231e-13f, -6.135885e-03f, -1.227154e-02f, -1.840673e-02f, -2.454123e-02f, -3.067480e-02f, -4.293826e-02f, -4.293826e-02f, // 512
    -4.906767e-02f, -5.519524e-02f, -6.132074e-02f, -6.744392e-02f, -7.356456e-02f, -7.968244e-02f, -9.190896e-02f, -9.190896e-02f, // 520
    -9.801714e-02f, -1.041216e-01f, -1.102222e-01f, -1.163186e-01f, -1.224107e-01f, -1.284981e-01f, -1.406582e-01f, -1.406582e-01f, // 528
    -1.467305e-01f, -1.527972e-01f, -1.588581e-01f, -1.649131e-01f, -1.709619e-01f, -1.770042e-01f, -1.890687e-01f, -1.890687e-01f, // 536
    -1.950903e-01f, -2.011046e-01f, -2.071114e-01f, -2.131103e-01f, -2.191012e-01f, -2.250839e-01f, -2.370236e-01f, -2.370236e-01f, // 544
    -2.429802e-01f, -2.489276e-01f, -2.548657e-01f, -2.607941e-01f, -2.667128e-01f, -2.726214e-01f, -2.844075e-01f, -2.844075e-01f, // 552
    -2.902847e-01f, -2.961509e-01f, -3.020059e-01f, -3.078496e-01f, -3.136817e-01f, -3.195020e-01f, -3.311063e-01f, -3.311063e-01f, // 560
    -3.368899e-01f, -3.426607e-01f, -3.484187e-01f, -3.541635e-01f, -3.598950e-01f, -3.656130e-01f, -3.770074e-01f, -3.770074e-01f, // 568
    -3.826834e-01f, -3.883450e-01f, -3.939920e-01f, -3.996242e-01f, -4.052413e-01f, -4.108432e-01f, -4.220003e-01f, -4.220003e-01f, // 576
    -4.275551e-01f, -4.330938e-01f, -4.386162e-01f, -4.441221e-01f, -4.496113e-01f, -4.550836e-01f, -4.659765e-01f, -4.659765e-01f, // 584
    -4.713967e-01f, -4.767992e-01f, -4.821838e-01f, -4.875502e-01f, -4.928982e-01f, -4.982277e-01f, -5.088301e-01f, -5.088301e-01f, // 592
    -5.141027e-01f, -5.193560e-01f, -5.245897e-01f, -5.298036e-01f, -5.349976e-01f, -5.401715e-01f, -5.504580e-01f, -5.504580e-01f, // 600
    -5.555702e-01f, -5.606616e-01f, -5.657318e-01f, -5.707807e-01f, -5.758082e-01f, -5.808140e-01f, -5.907597e-01f, -5.907597e-01f, // 608
    -5.956993e-01f, -6.006165e-01f, -6.055110e-01f, -6.103828e-01f, -6.152316e-01f, -6.200572e-01f, -6.296382e-01f, -6.296382e-01f, // 616
    -6.343933e-01f, -6.391244e-01f, -6.438315e-01f, -6.485144e-01f, -6.531728e-01f, -6.578067e-01f, -6.669999e-01f, -6.669999e-01f, // 624
    -6.715590e-01f, -6.760927e-01f, -6.806010e-01f, -6.850837e-01f, -6.895405e-01f, -6.939715e-01f, -7.027547e-01f, -7.027547e-01f, // 632
    -7.071068e-01f, -7.114322e-01f, -7.157308e-01f, -7.200025e-01f, -7.242471e-01f, -7.284644e-01f, -7.368166e-01f, -7.368166e-01f, // 640
    -7.409511e-01f, -7.450578e-01f, -7.491364e-01f, -7.531868e-01f, -7.572088e-01f, -7.612024e-01f, -7.691033e-01f, -7.691033e-01f, // 648
    -7.730105e-01f, -7.768885e-01f, -7.807372e-01f, -7.845566e-01f, -7.883464e-01f, -7.921066e-01f, -7.995373e-01f, -7.995373e-01f, // 656
    -8.032075e-01f, -8.068476e-01f, -8.104572e-01f, -8.140363e-01f, -8.175848e-01f, -8.211025e-01f, -8.280450e-01f, -8.280450e-01f, // 664
    -8.314696e-01f, -8.348629e-01f, -8.382247e-01f, -8.415550e-01f, -8.448536e-01f, -8.481203e-01f, -8.545580e-01f, -8.545580e-01f, // 672
    -8.577286e-01f, -8.608669e-01f, -8.639729e-01f, -8.670462e-01f, -8.700870e-01f, -8.730950e-01f, -8.790122e-01f, -8.790122e-01f, // 680
    -8.819213e-01f, -8.847971e-01f, -8.876396e-01f, -8.904487e-01f, -8.932243e-01f, -8.959662e-01f, -9.013488e-01f, -9.013488e-01f, // 688
    -9.039893e-01f, -9.065957e-01f, -9.091680e-01f, -9.117060e-01f, -9.142098e-01f, -9.166791e-01f, -9.215140e-01f, -9.215140e-01f, // 696
    -9.238795e-01f, -9.262102e-01f, -9.285061e-01f, -9.307670e-01f, -9.329928e-01f, -9.351835e-01f, -9.394592e-01f, -9.394592e-01f, // 704
    -9.415441e-01f, -9.435935e-01f, -9.456073e-01f, -9.475856e-01f, -9.495282e-01f, -9.514350e-01f, -9.551412e-01f, -9.551412e-01f, // 712
    -9.569403e-01f, -9.587035e-01f, -9.604305e-01f, -9.621214e-01f, -9.637761e-01f, -9.653944e-01f, -9.685221e-01f, -9.685221e-01f, // 720
    -9.700313e-01f, -9.715039e-01f, -9.729400e-01f, -9.743394e-01f, -9.757021e-01f, -9.770281e-01f, -9.795698e-01f, -9.795698e-01f, // 728
    -9.807853e-01f, -9.819639e-01f, -9.831055e-01f, -9.842101e-01f, -9.852776e-01f, -9.863081e-01f, -9.882576e-01f, -9.882576e-01f, // 736
    -9.891765e-01f, -9.900582e-01f, -9.909026e-01f, -9.917098e-01f, -9.924795e-01f, -9.932119e-01f, -9.945646e-01f, -9.945646e-01f, // 744
    -9.951847e-01f, -9.957674e-01f, -9.963126e-01f, -9.968203e-01f, -9.972905e-01f, -9.977231e-01f, -9.984756e-01f, -9.984756e-01f, // 752
    -9.987955e-01f, -9.990777e-01f, -9.993224e-01f, -9.995294e-01f, -9.996988e-01f, -9.998306e-01f, -9.999812e-01f, -9.999812e-01f, // 760
    -1.000000e+00f, -9.999812e-01f, -9.999247e-01f, -9.998306e-01f, -9.996988e-01f, -9.995294e-01f, -9.990777e-01f, -9.990777e-01f, // 768
    -9.987955e-01f, -9.984756e-01f, -9.981181e-01f, -9.977231e-01f, -9.972905e-01f, -9.968203e-01f, -9.957674e-01f, -9.957674e-01f, // 776
    -9.951847e-01f, -9.945646e-01f, -9.939070e-01f, -9.932119e-01f, -9.924795e-01f, -9.917098e-01f, -9.900582e-01f, -9.900582e-01f, // 784
    -9.891765e-01f, -9.882576e-01f, -9.873014e-01f, -9.863081e-01f, -9.852776e-01f, -9.842101e-01f, -9.819639e-01f, -9.819639e-01f, // 792
    -9.807853e-01f, -9.795698e-01f, -9.783174e-01f, -9.770281e-01f, -9.757021e-01f, -9.743394e-01f, -9.715039e-01f, -9.715039e-01f, // 800
    -9.700313e-01f, -9.685221e-01f, -9.669765e-01f, -9.653944e-01f, -9.637761e-01f, -9.621214e-01f, -9.587035e-01f, -9.587035e-01f, // 808
    -9.569403e-01f, -9.551412e-01f, -9.533060e-01f, -9.514350e-01f, -9.495282e-01f, -9.475856e-01f, -9.435935e-01f, -9.435935e-01f, // 816
    -9.415441e-01f, -9.394592e-01f, -9.373390e-01f, -9.351835e-01f, -9.329928e-01f, -9.307670e-01f, -9.262102e-01f, -9.262102e-01f, // 824
    -9.238795e-01f, -9.215140e-01f, -9.191139e-01f, -9.166791e-01f, -9.142098e-01f, -9.117060e-01f, -9.065957e-01f, -9.065957e-01f, // 832
    -9.039893e-01f, -9.013488e-01f, -8.986745e-01f, -8.959662e-01f, -8.932243e-01f, -8.904487e-01f, -8.847971e-01f, -8.847971e-01f, // 840
    -8.819213e-01f, -8.790122e-01f, -8.760701e-01f, -8.730950e-01f, -8.700870e-01f, -8.670462e-01f, -8.608669e-01f, -8.608669e-01f, // 848
    -8.577286e-01f, -8.545580e-01f, -8.513552e-01f, -8.481203e-01f, -8.448536e-01f, -8.415550e-01f, -8.348629e-01f, -8.348629e-01f, // 856
    -8.314696e-01f, -8.280450e-01f, -8.245893e-01f, -8.211025e-01f, -8.175848e-01f, -8.140363e-01f, -8.068476e-01f, -8.068476e-01f, // 864
    -8.032075e-01f, -7.995373e-01f, -7.958369e-01f, -7.921066e-01f, -7.883464e-01f, -7.845566e-01f, -7.768885e-01f, -7.768885e-01f, // 872
    -7.730105e-01f, -7.691033e-01f, -7.651673e-01f, -7.612024e-01f, -7.572088e-01f, -7.531868e-01f, -7.450578e-01f, -7.450578e-01f, // 880
    -7.409511e-01f, -7.368166e-01f, -7.326543e-01f, -7.284644e-01f, -7.242471e-01f, -7.200025e-01f, -7.114322e-01f, -7.114322e-01f, // 888
    -7.071068e-01f, -7.027547e-01f, -6.983762e-01f, -6.939715e-01f, -6.895405e-01f, -6.850837e-01f, -6.760927e-01f, -6.760927e-01f, // 896
    -6.715590e-01f, -6.669999e-01f, -6.624158e-01f, -6.578067e-01f, -6.531728e-01f, -6.485144e-01f, -6.391244e-01f, -6.391244e-01f, // 904
    -6.343933e-01f, -6.296382e-01f, -6.248595e-01f, -6.200572e-01f, -6.152316e-01f, -6.103828e-01f, -6.006165e-01f, -6.006165e-01f, // 912
    -5.956993e-01f, -5.907597e-01f, -5.857979e-01f, -5.808140e-01f, -5.758082e-01f, -5.707807e-01f, -5.606616e-01f, -5.606616e-01f, // 920
    -5.555702e-01f, -5.504580e-01f, -5.453250e-01f, -5.401715e-01f, -5.349976e-01f, -5.298036e-01f, -5.193560e-01f, -5.193560e-01f, // 928
    -5.141027e-01f, -5.088301e-01f, -5.035384e-01f, -4.982277e-01f, -4.928982e-01f, -4.875502e-01f, -4.767992e-01f, -4.767992e-01f, // 936
    -4.713967e-01f, -4.659765e-01f, -4.605387e-01f, -4.550836e-01f, -4.496113e-01f, -4.441221e-01f, -4.330938e-01f, -4.330938e-01f, // 944
    -4.275551e-01f, -4.220003e-01f, -4.164296e-01f, -4.108432e-01f, -4.052413e-01f, -3.996242e-01f, -3.883450e-01f, -3.883450e-01f, // 952
    -3.826834e-01f, -3.770074e-01f, -3.713172e-01f, -3.656130e-01f, -3.598950e-01f, -3.541635e-01f, -3.426607e-01f, -3.426607e-01f, // 960
    -3.368899e-01f, -3.311063e-01f, -3.253103e-01f, -3.195020e-01f, -3.136817e-01f, -3.078496e-01f, -2.961509e-01f, -2.961509e-01f, // 968
    -2.902847e-01f, -2.844075e-01f, -2.785197e-01f, -2.726214e-01f, -2.667128e-01f, -2.607941e-01f, -2.489276e-01f, -2.489276e-01f, // 976
    -2.429802e-01f, -2.370236e-01f, -2.310581e-01f, -2.250839e-01f, -2.191012e-01f, -2.131103e-01f, -2.011046e-01f, -2.011046e-01f, // 984
    -1.950903e-01f, -1.890687e-01f, -1.830399e-01f, -1.770042e-01f, -1.709619e-01f, -1.649131e-01f, -1.527972e-01f, -1.527972e-01f, // 992
    -1.467305e-01f, -1.406582e-01f, -1.345807e-01f, -1.284981e-01f, -1.224107e-01f, -1.163186e-01f, -1.041216e-01f, -1.041216e-01f, // 1000
    -9.801714e-02f, -9.190896e-02f, -8.579731e-02f, -7.968244e-02f, -7.356456e-02f, -6.744392e-02f, -5.519524e-02f, -5.519524e-02f, // 1008
    -4.906767e-02f, -4.293826e-02f, -3.680722e-02f, -3.067480e-02f, -2.454123e-02f, -1.840673e-02f, -6.135885e-03f, -6.135885e-03f, // 1016
    4.136462e-13f, // 1024
};

float phaseSin(uint32_t phase) {
    // top 10 bits of phase is table lookup index
    uint32_t index = phase >> 22;
    // bottom 22 bits of phase is part for interpolation
    float part = (phase & ((1<<22)-1)) * (1.0f / 0x400000);
    float v0 = SIN_TABLE_1024[index];
    float v1 = SIN_TABLE_1024[index+1];
    float diff = (v1 - v0) * part;
    return v0 + diff;
}

